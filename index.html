<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css"/>
    <style>
        body{
            background-image: url("images/7868.jpg");
            background-size: cover;
        }
        li{
            list-style: none;
            background: antiquewhite;
            border-bottom: 2px solid red;
            background-size: cover;
            padding: 5px;
            font-size: 20px;
            width: 100%;
        }
        .mghisdiv{
            height: 320px;
            overflow-y: scroll;
        }
    </style>
</head>
<body class="bg-secondary">
<h1 class="text-center">Chatting App</h1>
<div class="container py-4 shadow-lg bg-white">
    <div class="row w-100 d-flex justify-content-center align-items-center">
        <div class="col-md-6 col-12 col-lg-12 mghisdiv">
            <ul id="msgHistory" class="list-group list-group-flush">

            </ul>
        </div>

    </div>
</div>

<div class="container p-3 shadow-sm bg-white">
    <div class="row d-flex justify-content-center">
        <div class="col-md-6 col-12 col-lg-6">
           <div class="input-group">
               <input id="msg" class="form-control" type="text">
               <button onclick="sendmsg()" class="btn btn-primary">Send</button>
           </div>
        </div>

    </div>
</div>

<h1 class="text-center text-white py-4">Copyright by Abdul wahid</h1>
<script src="/socket.io/socket.io.js"></script>
<script>
    // creating istance of socket
    let socket=io();
    // btn onclick function
    function sendmsg (){
        let msg=document.getElementById('msg').value;
        document.getElementById('msg').value="";
        socket.emit('chat',msg);
    }
    // transfering caht history
    socket.on('chat_transfer',function (msg){
        let listitem=document.createElement('li');
        listitem.textContent=msg
        let msgHis=document.getElementById('msgHistory');
        msgHis.appendChild(listitem);

    })
</script>
</body>
</html>